parameters:
  kapitan:
    vars:
      target: external-test
    compile:
      - input_type: external
        output_path: .
        input_paths:
          - script.sh
        args:
          - arg1
          - \${compiled_target_dir} # this will not be interpolated by reclass but by the Binary input
        env_vars:
          EXAMPLE: "ENV_VAR"

      - input_type: external
        output_path: .
        input_paths:
          - /usr/local/bin/ytt
        args:
          - -f
          - ytt/extensions.v1beta1.Ingress.default.example-ingress1.yaml
          - -f
          - ytt/remove.yaml
          - ">"
          - \${compiled_target_dir}/extensions.v1beta1.Ingress.default.example-ingress1.yaml
