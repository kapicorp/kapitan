---
classes:
  # Generators
  - kapitan.generators.kubernetes.defaults
  - kapitan.generators.kubernetes.manifests

parameters:
  # -------------------------------------------------
  # get target_name from file name
  # -------------------------------------------------
  target_name: ${_meta_.name.short}
  short_name: ${get_suffix:${target_name}}
  env_name: ${get_substr:${target_name}}
  namespace: ${target_name}

  # -------------------------------------------------
  # set the target name internally for kapitan
  # -------------------------------------------------
  kapitan:
    vars:
      target: ${target_name}
